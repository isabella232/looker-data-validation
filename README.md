# Sql Writer Data Validation

The purpose of this tool is to verify that the data generated by Looker's new SQL writer is the same as the old SQL writer.

Requirements:
1. Ruby v2.4 must be installed

# Setup

Make sure to set the following variables in the spec/config.yml file. 

1. **DASHBOARD_IDS** - This is the list of Dashboard IDs you'd like to run this tool against. You can query the top used Dashboards in the Admin--> Usage section of Looker
2. **CLIENT_ID** and **CLIENT_SECRET**, these are the API3 keys for a user found in User Settings
3. Finally you can run the sql_writer_tests.sh script located in the looker-data-validation directory  
**Example: sh sql_writer_tests.sh**
4. Once the tests are complete, you can view the test results report located in looker-data-validation/spec/results/reports/results.html

# General notes

1. The data fetched from the dashboards is stored in looker-data-validation/spec/results/data (should be deleted once no longer needed)
2. The SQL fetched from the dashboards is stored in looker-data-validation/spec/results/sql (should be deleted once no longer needed)
3. The debug log (run_log.log) is stored in looker-data-validation/spec/results
